language: go

sudo: required
services:
- docker

cache:
- apt
- pip

go:
 - 1.3
 - 1.4
 - 1.5
 - 1.6
 - tip

env:
 - SCENARIO=""
 - SCENARIO=route_server
 - SCENARIO=route_server_ipv4_v6
 - SCENARIO=bgp_router
 - SCENARIO=ibgp_router
 - SCENARIO=evpn
 - SCENARIO=flow_spec
 - SCENARIO=route_reflector

matrix:
- go: 1.3
  env: SCENARIO=""
- go: 1.4
  env: SCENARIO=""
- go: 1.5
  env: SCENARIO=""
- go: 1.6
- go: tip
  env: SCENARIO=""

script:
 - bash test/scenario_test/ci-scripts/travis-build-script.sh $SCENARIO

notifications:
 slack:
  secure: KzuC9kytzS7wTlfj4MqSg8EpqXfJRMbo59dAVTA3w587achnVCS3vhUenWuhMCiWk7+6DVWwNpwzn2+A0S6RwMFMpKAU6Ij6K9sxEOgqBGuMN8w1//w+uJTryzsnebEIhInGt2kKfqz4Wx3QQqW5gVhI+8s+c5M0iXxFtN4soVk=
